<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kotlin Expert - Level 3</title>
    <style>
        :root {
            --primary: #0F172A; /* Midnight Blue */
            --accent: #FFD700; /* Gold */
            --bg-grad: linear-gradient(135deg, #0F2027 0%, #203A43 50%, #2C5364 100%);
            --header-grad: linear-gradient(135deg, #000428 0%, #004e92 100%);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg-grad); padding: 20px; min-height: 100vh; color: #fff; }
        .container { max-width: 1400px; margin: 0 auto; background: #fff; border-radius: 12px; box-shadow: 0 30px 90px rgba(0,0,0,0.5); overflow: hidden; padding-bottom: 60px; color: #333; }
        
        header { background: var(--header-grad); color: white; padding: 30px; text-align: center; border-bottom: 4px solid var(--accent); }
        .search-box { margin-top: 20px; }
        .search-box input { padding: 12px 20px; width: 60%; border-radius: 25px; border: none; font-size: 1.1em; outline: none; background: rgba(255,255,255,0.1); color: white; border: 1px solid var(--accent); }
        .search-box input::placeholder { color: #ccc; }
        
        .content { padding: 30px; }
        h2 { color: #004e92; border-bottom: 3px solid var(--accent); margin: 30px 0 20px 0; padding-bottom: 10px; font-weight: 800; }
        
        table { width: 100%; border-collapse: collapse; margin-bottom: 40px; }
        thead { background: #004e92; color: white; }
        th, td { padding: 15px; text-align: left; border-bottom: 1px solid #e0e0e0; vertical-align: top; }
        tbody tr:hover { background: #fffbf0; }
        
        .keyword { background: #004e92; color: var(--accent); padding: 4px 10px; border-radius: 4px; font-family: monospace; font-weight: bold; }
        pre { background: #0F172A; color: #e2e8f0; padding: 15px; border-radius: 6px; overflow-x: auto; margin-top: 8px; font-family: monospace; border: 1px solid #334155; }
        .kotlin-keyword { color: #fb923c; } .kotlin-class { color: #60a5fa; } .kotlin-string { color: #4ade80; } .kotlin-comment { color: #94a3b8; }
        
        .stars { color: #FFD700; font-size: 1.2em; white-space: nowrap; text-shadow: 1px 1px 1px rgba(0,0,0,0.2); }
        
        .nav-btn { position: fixed; bottom: 30px; left: 30px; padding: 15px 30px; background: var(--primary); color: var(--accent); border: 2px solid var(--accent); text-decoration: none; border-radius: 50px; font-weight: bold; transition: 0.2s; z-index: 100; box-shadow: 0 0 15px rgba(255, 215, 0, 0.3); }
        .nav-btn:hover { background: var(--accent); color: var(--primary); transform: scale(1.05); }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üëë Kotlin Expert</h1>
            <p>Level 3: Coroutines, Asynchronous Flows & Concurrency</p>
            <div class="search-box">
                <input type="text" id="searchInput" onkeyup="searchTable()" placeholder="üîç Search keywords (e.g., 'launch', 'flow', 'channel')...">
            </div>
        </header>
        
        <div class="content">
            <h2>‚è≥ Coroutines Basics</h2>
            <table>
                <thead><tr><th width="15%">Kotlin Name</th><th width="35%">Description</th><th width="40%">Example</th><th width="10%">Difficulty</th></tr></thead>
                <tbody>
                    <tr>
                        <td><span class="keyword">launch</span></td>
                        <td>Starts a new coroutine (fire-and-forget). Returns a Job.</td>
                        <td><pre><span class="kotlin-keyword">val</span> job = scope.launch {
    delay(1000)
    println(<span class="kotlin-string">"World"</span>)
}</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</span></td>
                    </tr>
                    <tr>
                        <td><span class="keyword">async</span></td>
                        <td>Starts a coroutine that computes a result. Returns Deferred&lt;T&gt;.</td>
                        <td><pre><span class="kotlin-keyword">val</span> deferred = scope.async {
    computeExpensive() 
}
<span class="kotlin-keyword">val</span> result = deferred.await()</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span></td>
                    </tr>
                    <tr>
                        <td><span class="keyword">withContext</span></td>
                        <td>Switches the context (thread) of the coroutine (e.g., Main to IO).</td>
                        <td><pre><span class="kotlin-keyword">val</span> data = withContext(Dispatchers.IO) {
    database.load()
}</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span></td>
                    </tr>
                    <tr>
                        <td><span class="keyword">runBlocking</span></td>
                        <td>Blocks current thread until coroutine completes (testing/main only).</td>
                        <td><pre>runBlocking {
    delay(500)
}</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</span></td>
                    </tr>
                </tbody>
            </table>

            <h2>üåä Asynchronous Flows</h2>
            <table>
                <thead><tr><th>Kotlin Name</th><th>Description</th><th>Example</th><th>Difficulty</th></tr></thead>
                <tbody>
                    <tr>
                        <td><span class="keyword">flow</span></td>
                        <td>Cold stream - code runs only when collected.</td>
                        <td><pre><span class="kotlin-keyword">fun</span> numbers() = flow {
    emit(1)
    delay(100)
    emit(2)
}</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span></td>
                    </tr>
                    <tr>
                        <td><span class="keyword">collect</span></td>
                        <td>Terminal operator that triggers the flow execution.</td>
                        <td><pre>numbers().collect { value -> 
    println(value) 
}</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span></td>
                    </tr>
                    <tr>
                        <td><span class="keyword">StateFlow</span></td>
                        <td>Hot flow that holds state (replacement for LiveData).</td>
                        <td><pre><span class="kotlin-keyword">val</span> state = MutableStateFlow(0)
state.value = 1</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span></td>
                    </tr>
                </tbody>
            </table>

            <h2>üì° Channels & Synchronization</h2>
            <table>
                <thead><tr><th>Kotlin Name</th><th>Description</th><th>Example</th><th>Difficulty</th></tr></thead>
                <tbody>
                    <tr>
                        <td><span class="keyword">Channel</span></td>
                        <td>Hot stream for transferring data between coroutines.</td>
                        <td><pre><span class="kotlin-keyword">val</span> channel = Channel&lt;Int&gt;()
launch { channel.send(1) }
launch { <span class="kotlin-keyword">val</span> x = channel.receive() }</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span></td>
                    </tr>
                    <tr>
                        <td><span class="keyword">Mutex</span></td>
                        <td>Mutual exclusion lock for coroutines (non-blocking).</td>
                        <td><pre><span class="kotlin-keyword">val</span> mutex = Mutex()
mutex.withLock {
    counter++
}</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span></td>
                    </tr>
                </tbody>
            </table>
            
             <h2>üß© Destructuring & Operators</h2>
            <table>
                <thead><tr><th>Kotlin Name</th><th>Description</th><th>Example</th><th>Difficulty</th></tr></thead>
                <tbody>
                    <tr>
                        <td>Destructuring</td>
                        <td>Unpacking object properties into variables.</td>
                        <td><pre><span class="kotlin-keyword">val</span> (name, age) = person
<span class="kotlin-comment">// Requires componentN() functions</span></pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ</span></td>
                    </tr>
                     <tr>
                        <td>Operator Overloading</td>
                        <td>Defining custom behavior for standard operators (+, -, *, etc).</td>
                        <td><pre><span class="kotlin-keyword">operator fun</span> Point.plus(p: Point) {
   <span class="kotlin-comment">// logic for p1 + p2</span>
}</pre></td>
                        <td><span class="stars">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <a href="kotlin_advanced.html" class="nav-btn prev">‚¨Ö Back: Advanced</a>

    <script>
        function searchTable() {
            let input = document.getElementById('searchInput').value.toUpperCase();
            let rows = document.querySelectorAll('tbody tr');
            rows.forEach(row => {
                let text = row.innerText.toUpperCase();
                row.style.display = text.includes(input) ? '' : 'none';
            });
        }
    </script>
</body>
</html>